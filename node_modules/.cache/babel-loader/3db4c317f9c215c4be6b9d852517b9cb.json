{"ast":null,"code":"import Vue from 'vue';\nimport Vuex from 'vuex'; // import state from './state'\n// import mutations from './mutations'\n\nVue.use(Vuex);\nvar defaultCity = '上海';\n\ntry {\n  if (localStorage.city) {\n    defaultCity = localStorage.city;\n  }\n} catch (e) {\n  defaultCity = '上海';\n}\n\nexport default new Vuex.Store({\n  // state,\n  state: {\n    city: defaultCity\n  },\n  actions: {\n    changeCity: function changeCity(ctx, city) {\n      ctx.commit('changeCity', city);\n    }\n  },\n  // mutations\n  mutations: {\n    changeCity: function changeCity(state, city) {\n      state.city = city;\n\n      try {\n        localStorage.city = city;\n      } catch (e) {\n        defaultCity = '上海';\n      }\n    }\n  }\n});","map":{"version":3,"names":["Vue","Vuex","use","defaultCity","localStorage","city","e","Store","state","actions","changeCity","ctx","commit","mutations"],"sources":["C:/Users/BangJun/Desktop/VUE練習/travel_vue/src/store/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n// import state from './state'\r\n// import mutations from './mutations'\r\n\r\nVue.use(Vuex)\r\n\r\nlet defaultCity = '上海'\r\ntry{\r\n    if (localStorage.city){\r\n        defaultCity = localStorage.city \r\n    }\r\n} catch (e) {\r\n    defaultCity = '上海'\r\n}\r\n\r\nexport default new Vuex.Store({\r\n    // state,\r\n    state: {\r\n        city: defaultCity\r\n    },\r\n    actions: {\r\n        changeCity (ctx, city){\r\n            ctx.commit('changeCity', city)\r\n        }\r\n    },\r\n    // mutations\r\n    mutations: {\r\n        changeCity(state , city ) {\r\n            state.city = city\r\n            try{\r\n                localStorage.city = city \r\n            } catch (e) {\r\n                defaultCity = '上海'\r\n                }\r\n            }\r\n        }\r\n\r\n})"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB,C,CACA;AACA;;AAEAD,GAAG,CAACE,GAAJ,CAAQD,IAAR;AAEA,IAAIE,WAAW,GAAG,IAAlB;;AACA,IAAG;EACC,IAAIC,YAAY,CAACC,IAAjB,EAAsB;IAClBF,WAAW,GAAGC,YAAY,CAACC,IAA3B;EACH;AACJ,CAJD,CAIE,OAAOC,CAAP,EAAU;EACRH,WAAW,GAAG,IAAd;AACH;;AAED,eAAe,IAAIF,IAAI,CAACM,KAAT,CAAe;EAC1B;EACAC,KAAK,EAAE;IACHH,IAAI,EAAEF;EADH,CAFmB;EAK1BM,OAAO,EAAE;IACLC,UADK,sBACOC,GADP,EACYN,IADZ,EACiB;MAClBM,GAAG,CAACC,MAAJ,CAAW,YAAX,EAAyBP,IAAzB;IACH;EAHI,CALiB;EAU1B;EACAQ,SAAS,EAAE;IACPH,UADO,sBACIF,KADJ,EACYH,IADZ,EACmB;MACtBG,KAAK,CAACH,IAAN,GAAaA,IAAb;;MACA,IAAG;QACCD,YAAY,CAACC,IAAb,GAAoBA,IAApB;MACH,CAFD,CAEE,OAAOC,CAAP,EAAU;QACRH,WAAW,GAAG,IAAd;MACC;IACJ;EARE;AAXe,CAAf,CAAf"},"metadata":{},"sourceType":"module"}