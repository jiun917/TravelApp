{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"CityAlphabet\",\n  props: {\n    cities: Object\n  },\n  computed: {\n    letters: function letters() {\n      var letters = [];\n\n      for (var i in this.cities) {\n        letters.push(i);\n      }\n\n      return letters;\n    }\n  },\n  data: function data() {\n    return {\n      touchStatus: false,\n      startY: 0,\n      timer: null\n    };\n  },\n  updated: function updated() {\n    this.startY = this.$refs['A'][0].offsetTop;\n  },\n  methods: {\n    handleLetterClick: function handleLetterClick(e) {\n      this.$emit(\"change\", e.target.innerText);\n    },\n    handleTouchStart: function handleTouchStart() {\n      this.touchStatus = true;\n    },\n    handleTouchMove: function handleTouchMove(e) {\n      var _this = this;\n\n      if (this.touchStatus) {\n        if (this.timer) {\n          clearTimeout(this.timer);\n        }\n\n        this.timer = setTimeout(function () {\n          var touchY = e.touches[0].clientY - 79;\n          var index = Math.floor((touchY - _this.startY) / 20);\n\n          if (index >= 0 && index < _this.letters.length) {\n            _this.$emit('change', _this.letters[index]);\n          }\n        }, 16);\n      }\n    },\n    handleTouchEnd: function handleTouchEnd() {\n      this.touchStatus = false;\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;AAiBA;EACAA,oBADA;EAEAC;IACAC;EADA,CAFA;EAKAC;IACAC,OADA,qBACA;MACA;;MACA;QACAA;MACA;;MACA;IACA;EAPA,CALA;EAcAC,IAdA,kBAcA;IACA;MACAC,kBADA;MAEAC,SAFA;MAGAC;IAHA;EAKA,CApBA;EAqBAC,OArBA,qBAqBA;IACA;EACA,CAvBA;EAwBAC;IACAC,iBADA,6BACAC,CADA,EACA;MACA;IACA,CAHA;IAIAC,gBAJA,8BAIA;MACA;IACA,CANA;IAOAC,eAPA,2BAOAF,CAPA,EAOA;MAAA;;MACA;QACA;UACAG;QACA;;QACA;UACA;UACA;;UACA;YACA;UACA;QACA,CANA,EAMA,EANA;MAOA;IACA,CApBA;IAqBAC,cArBA,4BAqBA;MACA;IACA;EAvBA;AAxBA","names":["name","props","cities","computed","letters","data","touchStatus","startY","timer","updated","methods","handleLetterClick","e","handleTouchStart","handleTouchMove","clearTimeout","handleTouchEnd"],"sourceRoot":"src/pages/city/components","sources":["Alphabet.vue"],"sourcesContent":["<template>\n  <ul class=\"list\">\n    <li\n      class=\"item\"\n      v-for=\"item in letters\" :key=\"item\"\n      :ref = \"item\"\n      @touchstart=\"handleTouchStart\"\n      @touchmove=\"handleTouchMove\"\n      @touchend=\"handleTouchEnd\"\n      @click=\"handleLetterClick\"\n    >\n      {{ item }}\n    </li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  name: \"CityAlphabet\",\n  props: {\n    cities: Object,\n  },\n  computed: {\n    letters () {\n      const letters = []\n      for(let i in this.cities) {\n        letters.push(i)\n      }\n      return letters\n    }\n  },\n  data(){\n    return{\n      touchStatus: false,\n      startY: 0,\n      timer: null\n    }\n  },\n  updated(){\n    this.startY = this.$refs['A'][0].offsetTop\n  },\n  methods: {\n    handleLetterClick(e) {\n      this.$emit(\"change\", e.target.innerText);\n    },\n    handleTouchStart () {\n      this.touchStatus = true\n    },\n    handleTouchMove (e) {\n      if (this.touchStatus) {\n        if(this.timer){\n          clearTimeout(this.timer)\n        }\n        this.timer = setTimeout(() =>{\n          const touchY = e.touches[0].clientY - 79\n          const index = Math.floor((touchY - this.startY) /20)\n          if(index >= 0 && index < this.letters.length){\n            this.$emit('change', this.letters[index])\n          }\n        },16)\n      }\n    },\n    handleTouchEnd () {\n      this.touchStatus = false\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n@import '~@/assets/styles/varibles.styl';\n\n.list {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  position: absolute;\n  top: 1.58rem;\n  right: 0;\n  bottom: 0;\n  width: 0.4rem;\n\n  .item {\n    line-height: 0.4rem;\n    text-align: center;\n    color: $bgColor;\n  }\n}\n</style>"]},"metadata":{},"sourceType":"module"}