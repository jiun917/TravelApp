{"ast":null,"code":"import _objectSpread from \"C:/Users/BangJun/Desktop/VUE\\u7DF4\\u7FD2/travel_vue/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Bscroll from \"better-scroll\";\nimport { mapState, mapMutations } from 'vuex';\nexport default {\n  name: \"CityList\",\n  props: {\n    hot: Array,\n    cities: Object,\n    letter: String\n  },\n  computed: _objectSpread({}, mapState({\n    currentCity: 'city'\n  })),\n  methods: _objectSpread({\n    handleCityClick: function handleCityClick(city) {\n      this.changeCity(city); // this.$store.commit('changeCity',city)\n\n      this.$router.push('/');\n    }\n  }, mapMutations(['changeCity'])),\n  mounted: function mounted() {\n    this.scroll = new Bscroll(this.$refs.wrapper);\n  },\n  watch: {\n    letter: function letter() {\n      if (this.letter) {\n        var element = this.$refs[this.letter][0];\n        this.scroll.scrollToElement(element);\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AAEA;EACAA,gBADA;EAEAC;IACAC,UADA;IAEAC,cAFA;IAGAC;EAHA,CAFA;EAOAC,4BACAC;IACAC;EADA,EADA,CAPA;EAYAC;IACAC,eADA,2BACAC,IADA,EACA;MACA,sBADA,CAEA;;MACA;IACA;EALA,GAMAC,4BANA,CAZA;EAoBAC,OApBA,qBAoBA;IACA;EACA,CAtBA;EAuBAC;IACAT,MADA,oBACA;MACA;QACA;QACA;MACA;IACA;EANA;AAvBA","names":["name","props","hot","cities","letter","computed","mapState","currentCity","methods","handleCityClick","city","mapMutations","mounted","watch"],"sourceRoot":"src/pages/city/components","sources":["List.vue"],"sourcesContent":["<template>\n  <div class=\"list\" ref=\"wrapper\">\n    <div>\n      <div class=\"area\">\n        <div class=\"title border-topbottom\">當前城市</div>\n        <div class=\"button-list\">\n          <div class=\"button-wrapper\">\n            <div class=\"button\">{{this.currentCity}}</div>\n          </div>\n        </div>\n      </div>\n      <div class=\"area\">\n        <div class=\"title border-topbottom\">熱門城市</div>\n        <div class=\"button-list\">\n          <div class=\"button-wrapper\" v-for=\"item in hot\" :key=\"item.id\" @click=\"handleCityClick(item.name)\">\n            <div class=\"button\">{{ item.name }}</div>\n          </div>\n        </div>\n      </div>\n      <div class=\"area\" v-for=\"(item, key) in cities\" :key=\"key\" :ref=\"key\">\n        <div class=\"title border-topbottom\">{{ key }}</div>\n        <div class=\"item-list\">\n          <div class=\"item border-bottom\" v-for=\"innerItem in item\" :key=\"innerItem.id\" @click=\"handleCityClick(innerItem.name)\">\n              {{innerItem.name}}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Bscroll from \"better-scroll\"\nimport {mapState, mapMutations} from 'vuex'\n \nexport default {\n  name: \"CityList\",\n  props: {\n    hot: Array,\n    cities: Object,\n    letter: String\n  },\n  computed: {\n    ...mapState({\n      currentCity: 'city'\n    })\n  },\n  methods: {\n    handleCityClick (city) {\n      this.changeCity(city)\n      // this.$store.commit('changeCity',city)\n      this.$router.push('/')\n    },\n    ...mapMutations(['changeCity'])\n  },\n  mounted() {\n    this.scroll = new Bscroll(this.$refs.wrapper);\n  },\n  watch: {\n    letter() {\n      if(this.letter) {\n        const element = this.$refs[this.letter][0]\n        this.scroll.scrollToElement(element)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n@import '~@/assets/styles/varibles.styl';\n\n.border-topbottom {\n  &:before {\n    border-color: #ccc;\n  }\n\n  &:after {\n    border-color: #ccc;\n  }\n}\n\n.border-bottom {\n  &:before {\n    border-color: #ccc;\n  }\n}\n\n.list {\n  overflow: hidden;\n  position: absolute;\n  top: 1.68rem;\n  left: 0;\n  right: 0;\n  bottom: 0;\n\n  .title {\n    line-height: 0.54rem;\n    background-color: #eee;\n    padding-left: 0.2rem;\n    font-size: 0.26rem;\n    color: #666;\n  }\n\n  .button-list {\n    padding: 0.1rem 0.6rem 0.1rem 0.1rem;\n    overflow: hidden;\n\n    .button-wrapper {\n      width: 33.33%;\n      float: left;\n\n      .button {\n        margin: 0.1rem;\n        padding: 0.1rem;\n        text-align: center;\n        border: 0.02rem solid #666;\n        border-radius: 0.06rem;\n      }\n    }\n  }\n\n  .item-list {\n    .item {\n      line-height: 0.76rem;\n      padding-left: 0.2rem;\n    }\n  }\n}\n</style>"]},"metadata":{},"sourceType":"module"}