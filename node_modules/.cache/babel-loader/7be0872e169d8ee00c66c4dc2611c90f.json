{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"CityAlphabet\",\n  props: {\n    cities: Object\n  },\n  computed: {\n    letters: function letters() {\n      var letters = [];\n\n      for (var i in this.cities) {\n        letters.push(i);\n      }\n\n      return letters;\n    }\n  },\n  data: function data() {\n    return {\n      touchStatus: false,\n      startY: 0,\n      timer: null\n    };\n  },\n  updated: function updated() {\n    this.startY = this.$refs['A'][0].offsetTop;\n  },\n  methods: {\n    handleLetterClick: function handleLetterClick(e) {\n      this.$emit(\"change\", e.target.innerText);\n    },\n    handleTouchStart: function handleTouchStart() {\n      this.touchStatus = true;\n    },\n    handleTouchMove: function handleTouchMove(e) {\n      var _this = this;\n\n      if (this.touchStatus) {\n        if (this.timer) {\n          clearTimeout(this.timer);\n        }\n\n        this.timer = setTimeout(function () {\n          var touchY = e.touches[0].clientY - 79;\n          var index = Math.floor((touchY - _this.startY) / 20);\n\n          if (index >= 0 && index < _this.letters.length) {\n            _this.$emit('change', _this.letters[index]);\n          }\n        }, 16);\n      }\n    },\n    handleTouchEnd: function handleTouchEnd() {\n      this.touchStatus = false;\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;AAiBA;EACAA,oBADA;EAEAC;IACAC;EADA,CAFA;EAKAC;IACAC,OADA,qBACA;MACA;;MACA;QACAA;MACA;;MACA;IACA;EAPA,CALA;EAcAC,IAdA,kBAcA;IACA;MACAC,kBADA;MAEAC,SAFA;MAGAC;IAHA;EAKA,CApBA;EAqBAC,OArBA,qBAqBA;IACA;EACA,CAvBA;EAwBAC;IACAC,iBADA,6BACAC,CADA,EACA;MACA;IACA,CAHA;IAIAC,gBAJA,8BAIA;MACA;IACA,CANA;IAOAC,eAPA,2BAOAF,CAPA,EAOA;MAAA;;MACA;QACA;UACAG;QACA;;QACA;UACA;UACA;;UACA;YACA;UACA;QACA,CANA,EAMA,EANA;MAOA;IACA,CApBA;IAqBAC,cArBA,4BAqBA;MACA;IACA;EAvBA;AAxBA","names":["name","props","cities","computed","letters","data","touchStatus","startY","timer","updated","methods","handleLetterClick","e","handleTouchStart","handleTouchMove","clearTimeout","handleTouchEnd"],"sourceRoot":"src/pages/city/components","sources":["Alphabet.vue"],"sourcesContent":["<template>\r\n  <ul class=\"list\">\r\n    <li\r\n      class=\"item\"\r\n      v-for=\"item in letters\" :key=\"item\"\r\n      :ref = \"item\"\r\n      @touchstart=\"handleTouchStart\"\r\n      @touchmove=\"handleTouchMove\"\r\n      @touchend=\"handleTouchEnd\"\r\n      @click=\"handleLetterClick\"\r\n    >\r\n      {{ item }}\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"CityAlphabet\",\r\n  props: {\r\n    cities: Object,\r\n  },\r\n  computed: {\r\n    letters () {\r\n      const letters = []\r\n      for(let i in this.cities) {\r\n        letters.push(i)\r\n      }\r\n      return letters\r\n    }\r\n  },\r\n  data(){\r\n    return{\r\n      touchStatus: false,\r\n      startY: 0,\r\n      timer: null\r\n    }\r\n  },\r\n  updated(){\r\n    this.startY = this.$refs['A'][0].offsetTop\r\n  },\r\n  methods: {\r\n    handleLetterClick(e) {\r\n      this.$emit(\"change\", e.target.innerText);\r\n    },\r\n    handleTouchStart () {\r\n      this.touchStatus = true\r\n    },\r\n    handleTouchMove (e) {\r\n      if (this.touchStatus) {\r\n        if(this.timer){\r\n          clearTimeout(this.timer)\r\n        }\r\n        this.timer = setTimeout(() =>{\r\n        const touchY = e.touches[0].clientY - 79\r\n        const index = Math.floor((touchY - this.startY) /20)\r\n        if(index >= 0 && index < this.letters.length){\r\n          this.$emit('change', this.letters[index])\r\n        }\r\n        },16)\r\n      }\r\n    },\r\n    handleTouchEnd () {\r\n      this.touchStatus = false\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@import '~@/assets/styles/varibles.styl';\r\n\r\n.list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  position: absolute;\r\n  top: 1.58rem;\r\n  right: 0;\r\n  bottom: 0;\r\n  width: 0.4rem;\r\n\r\n  .item {\r\n    line-height: 0.4rem;\r\n    text-align: center;\r\n    color: $bgColor;\r\n  }\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}